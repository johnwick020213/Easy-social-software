## 1. 登录验证系统
### 功能需求：
1. 密码暗文显示。
2. 匹配数据库进行登录。
3. 已登录用户不能再次登录。
4. 防止SQL注入。
5. 密码MD5加密。

## 2. 注册模块
### 功能需求：
1. 账号不重复，满足长度和格式要求。
2. 密码长度要求。
3. 用户昵称长度要求。

## 3. 密码修改
- 允许用户修改密码。

## 4. 简单交互界面显示模块
### 功能需求：
1. 登录界面：
   - 登录，注册，退出程序。
2. 主界面（功能选择）：
   - 单聊（动态显示未读消息），群聊（动态显示未读消息），邮箱（动态显示未读消息），好友列表，群聊列表，朋友圈，修改密码，修改用户昵称，退出登录。
3. 单聊界面：
   - 显示给自己发送消息的好友，底部输入好友用户名进入单聊。
4. 群聊界面：
   - 显示所有群聊消息，底部输入群名称进入群聊。
5. 好友列表：
   - 查看好友，删除好友，添加好友。
6. 群聊列表：
   - 查看已加入群聊，退出群聊，创建群聊，搜索群聊。
7. 邮箱界面：
   - 邮箱消息，发送邮件，删除已读邮件。
8. 邮箱消息界面：
   - 优先显示未接收邮件，底部输入邮件ID，选择接收还是删除，二次确认。
9. 朋友圈界面：
   - 查看朋友圈，发布朋友圈，删除朋友圈。

## 5. 好友列表
### 功能需求：
1. 查看用户所有已经添加的好友，显示好友昵称和账号。
2. 输入用户名删除好友，需要二次确认，**清除所有与该用户聊天记录。
3. 通过账号向指定用户发送好友请求，需要二次确认（显示账号和用户名）。

## 6. 聊天室模块
### 功能需求：
1. 群聊：
   - 选择聊天室进入，聊天室绑定管理员，有新人加入和退出都会通知所有用户。
   - 需要管理员同意给予许可才能加入聊天室，一次许可永久进入。
   - 管理员可以踢出用户，用户立即断开聊天室，管理员可以解散群聊。
   - **进入聊天室可以看到所有自己加入聊天室的历史聊天记录，用户可删除历史聊天记录。
2. 单聊：
   - 选择好友聊天，好友必须添加在好友列表才能聊天。
   - 显示所有聊天记录，好友不在线消息依然可以发送，通过未读消息提示。
   - **显示历史聊天记录，用户可以删除历史聊天记录。

## 7. 邮件模式（发送文件）
### 功能需求：
1. 通过账号向对方发送文件，文件会先保存在服务器（超时删除，通知双方）。
2. 接收方会看到发送方的邮件描述，决定是否接收，拒绝会删除。
3. 删除所有已读邮件。

## 8. 朋友圈模块
### 功能需求：
1. 查看朋友圈会显示所有好友发送的朋友圈，按时间排序，最新的朋友圈会显示在上面。底部输入用户账号，可以查看该用户所有朋友圈（包括自己）。
2. 发布朋友圈，用户输入朋友圈内容并发布。
3. 删除朋友圈，显示用户所有朋友圈，输入朋友圈编号删除，二次确认。

## 9. 服务器监听模块（系统模块）
- 负责监听用户请求并进行处理。

## 10. 数据库模块（系统模块）
### 数据库设计：
- 用户表（users）：
  - 用户ID（user_id）：主键
  - 账号（username）：唯一
  - 密码（password）：MD5加密
  - 昵称（nickname）
  - 状态（status）：已登录/未登录

- 好友表（friends）：
  - 用户ID（user_id）
  - 好友ID（friend_id）

- 聊天记录表（chat_history）：
  - 消息ID（message_id）：主键
  - 发送者ID（sender_id）
  - 接收者ID（receiver_id）
  - 消息内容（message_content）
  - 发送时间（timestamp）

- 群聊表（groups）：
  - 群ID（group_id）：主键
  - 群名称（group_name）
  - 管理员ID（admin_id）

- 群成员表（group_members）：
  - 群ID（group_id）
  - 用户ID（user_id）

- 群消息表（group_messages）：
  - 消息ID（message_id）：主键
  - 群ID（group_id）
  - 发送者ID（sender_id）
  - 消息内容（message_content）
  - 发送时间（timestamp）

- 邮件表（emails）：
  - 邮件ID（email_id）：主键
  - 发送者ID（sender_id）
  - 接收者ID（receiver_id）
  - 邮件内容（email_content）
  - 发送时间（timestamp）
  - 文件路径（file_path）
  - 状态（status）：未读/已读

- 朋友圈表（posts）：
  - 朋友圈ID（post_id）：主键
  - 用户ID（user_id）
  - 内容（content）
  - 发布时间（timestamp）
.